#!/bin/sh

# 2014 Jon Suderman
# https://github.com/suderman/osx/

OSX="$HOME/.local/osx"

echo ""
echo "Global Daemons:"
echo "---------------"
for path in $OSX/launchctl/global.daemon.*.plist
do
  if [ -f $path ]; then
    plist=$(basename "$path")
    echo "Unloading & unlinking: $plist"
    sudo launchctl unload "/Library/LaunchDaemons/$plist"
    sudo rm -f  "/Library/LaunchDaemons/$plist"
  fi
  echo ""
done
               
echo "Global Agents:"
echo "--------------"
for path in $OSX/launchctl/global.agent.*.plist
do
  if [ -f $path ]; then
    plist=$(basename "$path")
    echo "Unloading & unlinking: $plist"
    sudo launchctl unload "/Library/LaunchAgents/$plist"
    sudo rm -f  "/Library/LaunchAgents/$plist"
  fi
  echo ""
done

echo "User Agents:"
echo "------------"
for path in $OSX/launchctl/user.agent.*.plist
do
  if [ -f $path ]; then
    plist=$(basename "$path")
    echo "Unloading & unlinking: $plist"
    launchctl unload "$HOME/Library/LaunchAgents/$plist"
    rm -f  "$HOME/Library/LaunchAgents/$plist"
  fi
  echo ""
done

